<Window x:Class="CostAnalysis.UI.Quality"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Parameter QC" Width="420" Height="620" ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen"
        BorderThickness="3" BorderBrush="DarkCyan">
    <Window.Resources>
        <!-- MDL2 glyph buttons -->
        <Style x:Key="IconBtn" TargetType="Button">
            <Setter Property="FontFamily" Value="Segoe MDL2 Assets"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Width" Value="28"/>
            <Setter Property="Height" Value="28"/>
            <Setter Property="Margin" Value="2"/>
            <Setter Property="ToolTipService.ShowDuration" Value="60000"/>
        </Style>

        <!-- Tree item: [ ] Name (Count) -->
        <HierarchicalDataTemplate x:Key="ExploreTemplate" ItemsSource="{Binding Children}">
            <StackPanel Orientation="Horizontal" Margin="0,1,0,1">
                <CheckBox IsChecked="{Binding IsChecked}" VerticalAlignment="Center"/>
                <TextBlock Text="{Binding Name}" Margin="6,0,4,0"/>
                <TextBlock Text="(" Foreground="Gray"/>
                <TextBlock Text="{Binding Count}" Foreground="Gray"/>
                <TextBlock Text=")" Foreground="Gray"/>
            </StackPanel>
        </HierarchicalDataTemplate>
    </Window.Resources>

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="8"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="8"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="8"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="16"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="140"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Display -->
        <Label Grid.Row="0" Grid.Column="0" Content="Display" VerticalAlignment="Center"
               FontSize="14" FontStyle="Italic"/>
        <ComboBox x:Name="Cb_Display" Grid.Row="0" Grid.Column="1" MinHeight="26" Margin="0,2,0,2"/>

        <!-- Sort by -->
        <Label Grid.Row="2" Grid.Column="0" Content="Sort by:" VerticalAlignment="Center"
               FontSize="14" FontStyle="Italic"/>
        <ComboBox x:Name="Cb_Sort" Grid.Row="2" Grid.Column="1" MinHeight="26" Margin="0,2,0,2"/>

        <!-- Filter -->
        <Label Grid.Row="4" Grid.Column="0" Content="Filter" VerticalAlignment="Center"
               FontSize="14" FontStyle="Italic"/>
        <ComboBox x:Name="Cb_Filter" Grid.Row="4" Grid.Column="1" MinHeight="26" Margin="0,2,0,2"/>

        <!-- Search -->
        <Label Grid.Row="6" Grid.Column="0" Content="Search" VerticalAlignment="Center"
               FontSize="14" FontStyle="Italic"/>
        <DockPanel Grid.Row="6" Grid.Column="1">
            <StackPanel Orientation="Horizontal" DockPanel.Dock="Right">
                <Button Style="{StaticResource IconBtn}" Content="" ToolTip="Search" x:Name="Btn_Search"/>
                <Button Style="{StaticResource IconBtn}" Content="" ToolTip="Clear" x:Name="Btn_ClearSearch"/>
            </StackPanel>
            <TextBox x:Name="Txt_Search" Margin="0,0,4,0" MinHeight="26" VerticalContentAlignment="Center"/>
        </DockPanel>

        <!-- Results label -->
        <Label Grid.Row="8" Grid.ColumnSpan="2" Content="Results" FontSize="14" FontStyle="Italic"
               VerticalAlignment="Center"/>

        <!-- Results area -->
        <Border Grid.Row="9" Grid.ColumnSpan="2" BorderBrush="#DDD" BorderThickness="1">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Toolbar -->
                <ToolBar Grid.Row="0" Padding="2" Background="#F5F5F5">
                    <Button Style="{StaticResource IconBtn}" Content="" ToolTip="Refresh" x:Name="Btn_Refresh"/>
                    <Separator/>
                    <Button Style="{StaticResource IconBtn}" Content="" ToolTip="Expand All" x:Name="Btn_ExpandAll"/>
                    <Button Style="{StaticResource IconBtn}" Content="" ToolTip="Collapse All" x:Name="Btn_CollapseAll"/>
                    <Separator/>
                    <Button Style="{StaticResource IconBtn}" Content="" ToolTip="Export" x:Name="Btn_Export"/>
                    <Button Style="{StaticResource IconBtn}" Content="" ToolTip="Settings" x:Name="Btn_Settings" Visibility="Collapsed"/>
                </ToolBar>

                <!-- Tabs -->
                <TabControl Grid.Row="1">
                    <TabItem Header="Explore">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <TreeView x:Name="Tv_Explore"
                                      ItemTemplate="{StaticResource ExploreTemplate}"
                                      Margin="6"
                                      FontSize="13"/>
                        </Grid>
                    </TabItem>

                    <TabItem Header="Navigate">
                        <Grid Background="{x:Null}">
                            <TextBlock Text="Navigation pane (placeholder)"
                                       Margin="8" Foreground="Gray"/>
                        </Grid>
                    </TabItem>

                    <TabItem Header="Warnings">
                        <Grid Background="{x:Null}">
                            <TextBlock Text="Warnings pane (placeholder)"
                                       Margin="8" Foreground="Gray"/>
                        </Grid>
                    </TabItem>
                </TabControl>
            </Grid>
        </Border>

        <!-- Bottom buttons -->
        <DockPanel Grid.Row="10" Grid.ColumnSpan="2" LastChildFill="False" Margin="0,8,0,0">
            <Button x:Name="Btn_All"   Content="All"   MinWidth="100" Height="28" Margin="0,0,8,0"/>
            <Button x:Name="Btn_None"  Content="None"  MinWidth="100" Height="28"/>
            <Button x:Name="Btn_HighLight"  Content="HighLight"  MinWidth="100" Height="28" Margin="10,0,8,0" Click="Btn_HighLight_Click"/>
            <DockPanel DockPanel.Dock="Right"/>
        </DockPanel>
    </Grid>
</Window>